-- Таблица с информацией о книгах
CREATE TABLE BOOK_INFO (
    ID BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL PRIMARY KEY,
    AUTHOR VARCHAR(255) NOT NULL,
    TITLE VARCHAR(255) NOT NULL,
    PUBLICATION_YEAR INTEGER NOT NULL,
    CONSTRAINT UQ_BOOK_AUTHOR_TITLE UNIQUE (AUTHOR, TITLE)
);



-- Таблица с количеством экземпляров
CREATE TABLE BOOKS (
    BOOK_ID BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL PRIMARY KEY,
    COPIES INTEGER DEFAULT 0,
    CONSTRAINT FK_BOOKS_INFO FOREIGN KEY (BOOK_ID) REFERENCES BOOK_INFO(ID) ON DELETE CASCADE
);
